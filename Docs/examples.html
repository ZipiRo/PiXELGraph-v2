<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Examples â€” PiXELGraph-v2</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <div class="sidebar">
    <h1>PiXELGraph-v2</h1>
    <p>Graphics Console Engine API</p>
    <h3>Classes</h3>
    <ul>
      <li><a href="classes/AudioClip.html">AudioClip</a></li>
      <li><a href="classes/AudioSource.html">AudioSource</a></li>
      <li><a href="classes/BoundingBox.html">BoundingBox</a></li>
      <li><a href="classes/Color.html">Color</a></li>
      <li><a href="classes/Debug.html">Debug</a></li>
      <li><a href="classes/Elipse.html">Elipse</a></li>
      <li><a href="classes/Error.html">Error</a></li>
      <li><a href="classes/Event.html">Event</a></li>
      <li><a href="classes/Font.html">Font</a></li>
      <li><a href="classes/Input.html">Input</a></li>
      <li><a href="classes/PiXELGraph.html">PiXELGraph</a></li>
      <li><a href="classes/Rectangle.html">Rectangle</a></li>
      <li><a href="classes/Scene.html">Scene</a></li>
      <li><a href="classes/SceneManager.html">SceneManager</a></li>
      <li><a href="classes/Screen.html">Screen</a></li>
      <li><a href="classes/Shape.html">Shape</a></li>
      <li><a href="classes/Text.html">Text</a></li>
      <li><a href="classes/Time.html">Time</a></li>
      <li><a href="classes/Transform.html">Transform</a></li>
      <li><a href="classes/Vector2.html">Vector2</a></li>
      <li><a href="classes/Vertex.html">Vertex</a></li>
      <li><a href="classes/View.html">View</a></li>
      <li><a href="classes/Window.html">Window</a></li>
    </ul>
  </div>

  <div class="main">
    <div class="top-tabs">
      <a href="index.html">API Reference</a>
      <a href="https://github.com/ZipiRo/PiXELGraph-v2">GitHub Page</a>
      <a class="active" href="examples.html">Examples</a>
    </div>

    <h1>Usage Examples</h1>

    <div class="section">
      <p>
        This page collects small, beginner-friendly examples that show how to use the
        most important parts of PiXELGraph-v2: the scene framework, manual mode, drawing,
        input, audio, and debugging.
      </p>
    </div>

    <div class="section">
      <h2>1. Scene-Based Framework</h2>
      <p class="desc">
        Recommended default: you define scenes by inheriting from <code>Scene</code> and
        let <code>SceneManager</code> handle switching. This is great for multi-screen games
        (menu, game, pause, etc.).
      </p>
      <pre><code>#include "Core/PiXELGraph.h"

class GameScene : public Scene
{
private:
    Shapes::Rectangle player;

public:
    void Start() override
    {
        // Setup player
        player = Shapes::Rectangle(10.0f, 6.0f);
        player.SetColor(Color::Green);
        player.transform.SetPosition(40.0f, 12.0f);

        Screen::BackgroundColor = Color::Black;
    }

    void Event() override
    {
        // Correct place for input polling (not FPS dependent)
        if (Input::IsKeyPressed(Key::Escape))
            SceneManager::LoadScene("Menu");
    }

    void Update() override
    {
        // Movement (FPS dependent)
        if (Input::IsKeyDown(Key::Right))
            player.transform.Move(1.0f, 0.0f);
        if (Input::IsKeyDown(Key::Left))
            player.transform.Move(-1.0f, 0.0f);
    }

    void Draw() override
    {
        Screen::DrawShape(player);
    }
};

class MenuScene : public Scene
{
public:
    void Draw() override
    {
        Text title;
        title.SetString("PiXELGraph Demo");
        title.SetColor(Color::White);
        title.transform.SetPosition(5.0f, 3.0f);
        Screen::DrawTEXT(title);
    }

    void Event() override
    {
        if (Input::IsKeyPressed(Key::Enter))
            SceneManager::LoadScene("Game");
    }
};

class Engine : public PiXELGraph
{
public:
    Engine()
    {
        Init(800, 600, 2, L"Scene Demo");
        MaxFramesPerSecond = MaxFPS;
    }
};

int main()
{
    SceneManager::AddScene&lt;MenuScene&gt;("Menu");
    SceneManager::AddScene&lt;GameScene&gt;("Game");

    SceneManager::LoadScene("Menu");

    Engine engine;
    engine.Run();
    return 0;
}
</code></pre>
    </div>

    <div class="section">
      <h2>2. Manual Engine Mode (No Scenes)</h2>
      <p class="desc">
        If you prefer a single main loop that you fully control, disable scenes in
        <code>EngineSettings.h</code> and override the virtual functions directly in your
        engine class.
      </p>
      <pre><code>// In Include/EngineSettings.h
#define USE_SCENES false</code></pre>

      <pre><code>#include "Core/PiXELGraph.h"

class Engine : public PiXELGraph
{
private:
    Shapes::Rectangle player;

    void Start() override
    {
        Screen::BackgroundColor = Color::Black;

        player = Shapes::Rectangle(10.0f, 6.0f);
        player.SetColor(Color::Yellow);
        player.transform.SetPosition(40.0f, 12.0f);
    }

    void Event() override
    {
        // Correct input polling place
        if (Input::IsKeyPressed(Key::Escape))
            Exit();
    }

    void Update() override
    {
        if (Input::IsKeyDown(Key::Right))
            player.transform.Move(1.0f, 0.0f);
        if (Input::IsKeyDown(Key::Left))
            player.transform.Move(-1.0f, 0.0f);
    }

    void Draw() override
    {
        Screen::DrawShape(player);
    }

    void Quit() override
    {
        Debug::Log("Engine quitting...\n");
    }

public:
    Engine()
    {
        Init(800, 600, 2, L"Manual Mode");
        MaxFramesPerSecond = MaxFPS;
    }
};

int main()
{
    Engine engine;
    engine.Run();
    return 0;
}
</code></pre>
    </div>

    <div class="section">
      <h2>3. Drawing Shapes and Text</h2>
      <p class="desc">
        Use <code>Screen</code> plus shape and text classes to render basic graphics.
        Remember to call <code>Screen::Clear()</code> and <code>Screen::Display()</code>
        in the engine loop (PiXELGraph handles this for you internally).
      </p>
      <pre><code>void Scene::Draw()
{
    Shapes::Rectangle box(20.0f, 10.0f);
    box.SetColor(Color::Cyan);
    box.transform.SetPosition(10.0f, 5.0f);
    Screen::DrawShape(box);

    Text label;
    label.SetString("Hello PiXELGraph!");
    label.SetColor(Color::White);
    label.transform.SetPosition(5.0f, 2.0f);
    Screen::DrawTEXT(label);
}
</code></pre>
    </div>

    <div class="section">
      <h2>4. Using Input Correctly (Event vs Update)</h2>
      <p class="desc">
        Always poll keys and mouse in <code>Event()</code> so you don't miss fast events,
        then act on states in <code>Update()</code>.
      </p>
      <pre><code>void MyScene::Event()
{
    if (Input::IsKeyPressed(Key::Space))
        Debug::Log("Space pressed once\n");

    if (Event::GetEvent() == EventType::EVENT_MOUSE_LCLICK)
        Debug::Log("Mouse left click\n");
}

void MyScene::Update()
{
    // Use IsKeyDown for continuous movement
    if (Input::IsKeyDown(Key::Right))
        player.transform.Move(1.0f, 0.0f);
}
</code></pre>
    </div>

    <div class="section">
      <h2>5. Audio Playback</h2>
      <p class="desc">
        Load sounds into <code>AudioClip</code> and play them using <code>AudioSource</code>.
      </p>
      <pre><code>#include "Audio/Audio.h"

AudioClip clip("Resources/jump.wav");

void MyScene::Start()
{
    clip.SetVolume(0.8f);
}

void MyScene::Event()
{
    if (Input::IsKeyPressed(Key::Space))
        AudioSource::PlaySound(clip);
}
</code></pre>
    </div>

    <div class="section">
      <h2>6. Debugging and Errors</h2>
      <p class="desc">
        Use <code>Debug::Log</code> for messages and throw <code>Error</code> when something
        is fatally wrong. The engine catches <code>Error</code> internally.
      </p>
      <pre><code>void MyScene::Start()
{
    Debug::Log("Scene starting...\n");

    if (!SomeInit())
        throw Error("Failed to initialize Something");
}
</code></pre>
    </div>
  </div>
</body>

</html>